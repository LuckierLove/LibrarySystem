# 图书借阅管理系统 - 项目总结

## 项目信息

- **项目名称**：图书借阅管理系统（Library Management System）
- **课程名称**：九江学院《高级Java》课程期末大作业
- **开发时间**：2025年12月
- **项目版本**：1.0.0
- **开发团队**：图书管理系统开发组

## 一、项目概述

本项目是一个完整的图书借阅管理系统，采用Java Swing技术实现图形用户界面，使用MySQL数据库存储数据。系统实现了用户登录、图书管理、借阅管理等核心功能，严格遵循软件工程方法论，采用分层架构设计。

## 二、技术选型

### 2.1 开发环境
- **JDK版本**：Java 8+
- **开发工具**：Eclipse
- **构建工具**：Maven 3.x
- **数据库**：MySQL 8.0
- **版本控制**：Git

### 2.2 技术框架
- **GUI框架**：Java Swing
- **数据库驱动**：MySQL Connector/J 8.0.33
- **代码简化**：Lombok 1.18.28
- **JDBC操作**：原生JDBC

### 2.3 技术亮点
1. **Maven依赖管理**：使用pom.xml统一管理项目依赖
2. **Lombok注解**：简化实体类的getter/setter/构造方法
3. **分层架构**：Entity-DAO-Service-UI四层清晰分离
4. **规范化设计**：符合Java编码规范和软件工程要求

## 三、系统架构

### 3.1 分层架构设计

```
┌─────────────────────────────────────────┐
│          展现层 (UI Layer)              │
│   LoginFrame, MainFrame, Dialog...      │
└─────────────────┬───────────────────────┘
                  │ 调用
┌─────────────────▼───────────────────────┐
│       业务逻辑层 (Service Layer)         │
│   BookService, UserService, Borrow...   │
└─────────────────┬───────────────────────┘
                  │ 调用
┌─────────────────▼───────────────────────┐
│       数据访问层 (DAO Layer)             │
│   BookDao, UserDao, BorrowRecordDao     │
└─────────────────┬───────────────────────┘
                  │ 使用
┌─────────────────▼───────────────────────┐
│         实体层 (Entity Layer)            │
│       Book, User, BorrowRecord          │
└─────────────────────────────────────────┘
```

### 3.2 包结构说明

```
cn.jju.library
├── entity          # 实体类（使用Lombok）
│   ├── Book.java          # 图书实体
│   ├── User.java          # 用户实体
│   └── BorrowRecord.java  # 借阅记录实体
├── dao             # 数据访问层
│   ├── BookDao.java           # 图书DAO
│   ├── UserDao.java           # 用户DAO
│   └── BorrowRecordDao.java   # 借阅记录DAO
├── service         # 业务逻辑层
│   ├── BookService.java       # 图书服务
│   ├── UserService.java       # 用户服务
│   └── BorrowService.java     # 借阅服务
├── ui              # 用户界面层
│   ├── LoginFrame.java        # 登录界面
│   ├── MainFrame.java         # 主界面
│   └── BorrowRecordDialog.java # 借阅记录对话框
└── util            # 工具类
    └── DBUtil.java            # 数据库工具类
```

## 四、数据库设计

### 4.1 数据表设计

#### 1. books（图书信息表）
- **主键**：book_id
- **核心字段**：
  - book_name（图书名称）
  - author（作者）
  - publisher（出版社）
  - isbn（ISBN编号，唯一）
  - category（分类）
  - total_quantity（总数量）
  - available_quantity（可借数量）
  - price（价格）

#### 2. users（用户信息表）
- **主键**：user_id
- **核心字段**：
  - username（用户名，唯一）
  - password（密码）
  - real_name（真实姓名）
  - user_type（用户类型：管理员/读者）
  - status（账号状态：正常/禁用）
  - max_borrow_count（最大借书数量）

#### 3. borrow_records（借阅记录表）
- **主键**：record_id
- **外键**：user_id、book_id
- **核心字段**：
  - borrow_date（借阅日期）
  - due_date（应还日期）
  - return_date（实际归还日期）
  - status（借阅状态：借阅中/已归还/已逾期）

### 4.2 数据库设计特色

1. **外键约束**：确保数据完整性，级联更新和删除
2. **CHECK约束**：保证可借数量不超过总数量
3. **索引优化**：在常用查询字段上建立索引
4. **ENUM类型**：规范状态值，防止脏数据
5. **时间戳**：自动记录创建和更新时间
6. **初始数据**：预置管理员账号和10本测试图书

## 五、核心功能实现

### 5.1 用户登录功能

**实现类**：LoginFrame.java, UserService.java, UserDao.java

**核心流程**：
1. 用户输入用户名和密码
2. 前端验证输入不为空
3. 调用UserService.login()方法
4. UserDao执行SQL查询验证
5. 返回User对象或null
6. 登录成功跳转到主界面

**代码亮点**：
- 密码框使用JPasswordField保护隐私
- 登录失败自动清空密码框
- 使用参数化查询防止SQL注入
- 验证用户状态（禁用账号无法登录）

### 5.2 图书借阅功能

**实现类**：MainFrame.java, BorrowService.java, BookDao.java, BorrowRecordDao.java

**核心流程**：
1. 用户选择图书并点击借书按钮
2. 前端验证库存是否充足
3. 用户输入借阅天数
4. 调用BorrowService.borrowBook()方法
5. 检查图书存在性和库存
6. 检查是否重复借阅
7. 创建借阅记录
8. 减少图书可借数量
9. 返回操作结果

**业务规则**：
- 库存必须大于0
- 不能重复借阅同一本书
- 借阅天数1-365天
- 自动计算应还日期

### 5.3 图书归还功能

**实现类**：MainFrame.java, BorrowService.java, BorrowRecordDao.java, BookDao.java

**核心流程**：
1. 用户选择图书并点击还书按钮
2. 确认归还操作
3. 调用BorrowService.returnBook()方法
4. 查找借阅记录
5. 更新借阅记录状态和归还时间
6. 增加图书可借数量
7. 返回操作结果

**业务规则**：
- 只能归还已借阅的图书
- 自动记录归还时间
- 状态更新为"已归还"

### 5.4 借阅记录查询

**实现类**：BorrowRecordDialog.java, BorrowService.java, BorrowRecordDao.java

**功能特点**：
- 普通用户查看自己的借阅记录
- 管理员查看所有用户的借阅记录
- 使用JOIN查询关联用户和图书信息
- 表格展示详细的借阅信息

## 六、代码规范与质量

### 6.1 命名规范
- **类名**：大驼峰命名法（PascalCase）
- **方法名**：小驼峰命名法（camelCase）
- **变量名**：小驼峰命名法，见名知意
- **常量名**：全大写，下划线分隔

### 6.2 注释规范
- **类注释**：JavaDoc格式，说明类的功能和作者
- **方法注释**：JavaDoc格式，说明参数、返回值、功能
- **关键代码**：行内注释说明复杂逻辑

### 6.3 异常处理
- 所有数据库操作都有try-catch
- 捕获SQLException并输出错误信息
- finally块中关闭数据库资源
- 向用户友好地提示错误信息

### 6.4 资源管理
- 使用DBUtil统一管理数据库连接
- 提供closeAll方法一次性关闭所有资源
- 避免资源泄漏

## 七、界面设计

### 7.1 登录界面（LoginFrame）

**设计特点**：
- 简洁大方的标题栏（蓝色背景）
- 使用GridBagLayout布局表单
- 密码框隐藏输入内容
- 登录和重置按钮清晰醒目

### 7.2 主界面（MainFrame）

**设计特点**：
- BorderLayout整体布局
- 顶部：欢迎信息和搜索框
- 中央：JTable展示图书列表
- 底部：借书、还书、查看记录等按钮
- 表格列宽自适应内容
- 按钮颜色区分功能（蓝色借书、红色还书）

### 7.3 借阅记录对话框

**设计特点**：
- 模态对话框，阻塞父窗口
- 表格展示借阅记录
- 管理员和普通用户显示不同列
- 日期格式化显示

## 八、项目文档

### 8.1 文档清单

1. **README.md**：项目介绍、快速开始、功能特性
2. **docs/设计文档.md**：详细设计文档
   - 功能设计说明（借书/还书流程）
   - 类图说明（调用关系）
   - 核心代码解析（带详细注释）
3. **docs/使用说明.md**：用户操作手册
4. **database/schema.sql**：数据库建表脚本

### 8.2 文档规范

- 大标题使用宋体小二号（Markdown中用##）
- 正文使用宋体四号（Markdown默认）
- 图表居中，有图号和图名
- 代码块使用```标记
- 列表和表格规范排版

## 九、测试与验证

### 9.1 功能测试

- ✅ 用户登录功能正常
- ✅ 图书浏览和搜索功能正常
- ✅ 借书功能正常（库存检查、重复借阅验证）
- ✅ 还书功能正常（状态更新、库存恢复）
- ✅ 借阅记录查询功能正常
- ✅ 数据库连接正常
- ✅ Maven编译成功

### 9.2 边界测试

- 借阅天数输入非法值（如0、负数、字符串）
- 库存为0时尝试借书
- 未选中图书时点击借书/还书
- 重复借阅同一本书

### 9.3 异常测试

- 数据库连接失败
- 用户名或密码错误
- 未找到借阅记录时归还

## 十、项目亮点

### 10.1 技术亮点

1. **严格的分层架构**：UI-Service-DAO-Entity四层分离
2. **使用Lombok简化开发**：减少样板代码
3. **Maven依赖管理**：规范化项目构建
4. **参数化查询**：防止SQL注入攻击
5. **资源管理工具类**：统一管理数据库连接

### 10.2 业务亮点

1. **完善的业务逻辑**：借还书包含多重验证
2. **库存管理**：自动增减图书可借数量
3. **防重复借阅**：避免数据混乱
4. **角色权限区分**：管理员和普通用户权限不同
5. **借阅记录追溯**：完整记录借还信息

### 10.3 代码质量亮点

1. **详细的注释**：每个类和方法都有JavaDoc
2. **见名知意的命名**：变量和方法名清晰易懂
3. **完善的错误处理**：每个可能出错的地方都有处理
4. **用户友好的提示**：清晰的成功/错误消息
5. **代码复用性好**：工具类统一管理公共功能

### 10.4 文档质量亮点

1. **完整的设计文档**：流程图、类图、代码解析
2. **详细的使用说明**：操作步骤、注意事项、FAQ
3. **规范的README**：快速开始、功能介绍、架构说明
4. **清晰的代码注释**：核心代码有逐行注释

## 十一、后续扩展建议

### 11.1 功能扩展

1. **图书管理功能**：添加、修改、删除图书
2. **用户管理功能**：管理员可以管理用户账号
3. **逾期罚款功能**：计算逾期天数和罚款金额
4. **图书预约功能**：库存为0时可以预约
5. **统计报表功能**：借阅量统计、热门图书排行

### 11.2 技术优化

1. **数据库连接池**：使用Druid或HikariCP提高性能
2. **密码加密**：使用MD5或BCrypt加密存储密码
3. **日志系统**：集成Log4j记录操作日志
4. **配置外部化**：支持配置文件热更新
5. **分页查询**：图书列表支持分页加载

### 11.3 界面优化

1. **图表展示**：使用JFreeChart展示借阅统计
2. **主题切换**：支持亮色/暗色主题
3. **快捷键**：支持键盘快捷操作
4. **拖拽排序**：表格支持列拖拽排序
5. **导出功能**：支持导出Excel报表

## 十二、总结

本项目严格按照软件工程方法论开发，从需求分析、系统设计、编码实现到测试验证，每个环节都遵循规范。项目采用分层架构，代码质量高，注释详细，文档完善，完全符合《高级Java》课程的要求。

通过本项目的开发，深入理解了：
1. Java Swing GUI编程
2. JDBC数据库操作
3. 分层架构设计
4. Maven项目管理
5. 软件工程方法论

项目代码健壮性好，易于维护和扩展，具有实际应用价值。

---

**文档编写者**：图书管理系统开发组  
**文档版本**：1.0.0  
**最后更新**：2025-12-28
